{
  "hash": "8c7b696271f8bb486b7ea0b364497d4a",
  "result": {
    "markdown": "---\ntitle: \"Unique ID and duplicates\"\nauthor: \"Rony Rodriguez-Ramirez\"\ndate: \"2024-02-10\"\n---\n\n::: {.cell}\n\n:::\n\n\n## Introduction\n\nNow, Let's try to thoroughly understand datasets right after their importation. The exploration process is initiated by pinpointing two pivotal elements: \n\n- The unit of observation and a unique, fully identifying ID variable. \n- The former refers to the entity or object being described by the dataset, whereas the latter distinguishes each observation uniquely, ensuring no duplicates or missing entries exist.\n\n:::{.callout-tip title=\"Unique ID\"}\nA unique identifier plays a critical role in maintaining the integrity of the dataset. It prevents the overrepresentation of any data point and facilitates the seamless merging of various datasets, enhancing the breadth of analysis. Identifying the dataset's unit of observation alongside its ID variable lays the groundwork for a comprehensive examination.\n:::\n\nTo ascertain the uniqueness and completeness of an ID variable, Stata has two commands: `isid` and `duplicates`. The `isid` command examines whether a set of variables can uniquely identify every observation in the dataset. On the other hand, the `duplicates` command identifies, labels, or removes duplicate records, thus ensuring the dataset's cleanliness.\n\nLet's use again our `fake_scores` dataset from our last two tutorials. Now, to verify if `studentid` serves as a unique identifier, one could use:\n\n\n\n\n::: {.cell}\n\n```{.stata .cell-code}\n* Load your dataset\nuse \"fake_scores.dta\", clear\n\n* Check if studentid uniquely identify the observations.\nisid studentid\n```\n:::\n\n\nThis should return you an error. Why? Because we have a long formatted dataset. Let's include two variable then to verify if we have the correct level of analysis. Let's run:\n\n\n::: {.cell output.lines='[-1,-2,-3,-4,-5]'}\n\n```{.stata .cell-code}\nisid course studentid \n```\n\n\n::: {.cell-output .cell-output-stdout}\n```\n...\n. isid course studentid \n\n. \n...\n```\n:::\n:::\n\n\nNow, you should not get an error. Since you got no \"output\" that means that we have a dataset at the level of course-student. \n\nAnother way to look at whether we have the correct level of analysis is by using the `duplicates` command. \n\n\n::: {.cell output.lines='[-1,-2,-3,-4,-5]'}\n\n```{.stata .cell-code}\nduplicates report studentid \nduplicates tag studentid, gen(dup_name)\ntab dup_name\n```\n\n\n::: {.cell-output .cell-output-stdout}\n```\n...\n. duplicates report studentid \n\nDuplicates in terms of studentid\n\n--------------------------------------\n   Copies | Observations       Surplus\n----------+---------------------------\n        4 |           96            72\n--------------------------------------\n\n. duplicates tag studentid, gen(dup_name)\n\nDuplicates in terms of studentid\n\n. tab dup_name\n\n   dup_name |      Freq.     Percent        Cum.\n------------+-----------------------------------\n          3 |         96      100.00      100.00\n------------+-----------------------------------\n      Total |         96      100.00\n\n. \n...\n```\n:::\n:::\n\n\nInitially, `duplicates report` scrutinizes the dataset for duplicates of `studentid`, providing a detailed account of duplication. Following this, `duplicates tag` assigns a unique tag to each observation in the new variable `dup_name`, distinguishing between unique entries and various levels of duplication. Finally, `tab dup_name` tabulates these tags, offering a summary of the distribution of unique and duplicated `studentid` records. \n\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}